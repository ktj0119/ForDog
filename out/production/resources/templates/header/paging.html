<html lang="en" xmlns:th="http://www.thymeleaf.org">

  <div th:fragment="paging">
    <div class="pager" th:if="${!paging.isEmpty()}">
      <ul>
        <li th:classappend="${paging.first} ? 'disabled'">
          <a th:if="${paging.number >= 10}"
             th:href="@{|?page=${paging.number - 10}&searchType=${searchType}&searchKeyword=${searchKeyword}|}">
            <span>이전</span>
          </a>

          <a th:if="${(paging.number < 10) and
                    ((paging.number / 10) * 10 - 10) > 0}"
             th:href="@{|?page=0&searchType=${searchType}&searchKeyword=${searchKeyword}|}">
            <span>이전</span>
          </a>

          <span th:if="${((paging.number < 10)) and (paging.number / 10) * 10 - 10 < 0}">이전</span>
        </li>
        <li th:each="page : ${#numbers.sequence(0, paging.totalPages - 1)}"
            th:if="${page >= ((paging.number / 10) * 10) and page <= T(java.lang.Math).min(((paging.number / 10) * 10) + 9, paging.totalPages - 1)}"
            th:classappend="${page == paging.number} ? 'active'">
          <a class="pagenumber" th:text="${page + 1}"
             th:href="@{|?page=${page}&searchType=${searchType}&searchKeyword=${searchKeyword}|}">
          </a>
        </li>

        <li th:classappend="${paging.last} ? 'disabled'">
          <a th:if="${paging.number <= paging.totalPages -11}"
             th:href="@{|?page=${paging.number + 10}&searchType=${searchType}&searchKeyword=${searchKeyword}|}">
            <span>다음</span>
          </a>

          <a th:if="${(paging.number > paging.totalPages -11) and
                    ((paging.number / 10) * 10 + 10) < paging.totalPages}"
             th:href="@{|?page=${paging.totalPages - 1}&searchType=${searchType}&searchKeyword=${searchKeyword}|}">
            <span>다음</span>
          </a>

          <span th:if="${(paging.number > paging.totalPages -11) and
                    ((paging.number / 10) * 10 + 10) > paging.totalPages}">다음</span>

<!--          <span th:if="${paging.totalPages <= 10}" class="disabled">다음</span>-->
        </li>
      </ul>
    </div>
  </div>

</html>